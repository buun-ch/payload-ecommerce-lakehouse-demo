image:
  repository: payload-ecommerce-lakehouse-demo-dev
  pullPolicy: IfNotPresent

telemetry:
  enabled: true

logging:
  health_request: false  # Enable/disable health check request logs

# Startup probe to allow time for schema pulling and initialization
startupProbe:
  httpGet:
    path: /healthz
    port: http
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 30  # Allow up to 5 minutes (10s * 30) for startup

env:
  - name: NODE_ENV
    value: "development"
  - name: DATABASE_URI
    value: "postgres://ecommerce:ecommerce@postgres-cluster-rw.postgres:5432/ecommerce?keepalives=1&keepalives_idle=30&keepalives_interval=10&keepalives_count=5"
  - name: PAYLOAD_SECRET
    value: "your-secret-key-here"
  - name: PAYLOAD_PUBLIC_SERVER_URL
    value: "http://payload-ecommerce-lakehouse-demo.default:3000"
  - name: NEXT_PUBLIC_SERVER_URL
    value: "http://payload-ecommerce-lakehouse-demo.default:3000"

ingress:
  enabled: false
